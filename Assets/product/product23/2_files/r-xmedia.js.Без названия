"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[34648],{55403:(e,t,n)=>{var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.XMEDIA_FORMAT_TYPES=void 0,t.buildXmediaUrl=S,t.getBestImageUrl=R,t.getDeviceAllowedScreen=void 0,t.getVideoSource=k,t.getVirtualWidth=x,t.getWatermarkUrl=function(e){if(!e)return null;const t=function(e,t){const n=function(e,t){if(i.default.xmediaTransformations&&i.default.xmediaTransformations.length&&e.transformations&&e.transformations.length){const n=i.default.xmediaTransformations.find((n=>e.transformations.indexOf(n.name)>-1&&n.type===t));return n&&n.meta.xmedia||[]}return[]}(e,t);let r=n.find((t=>t.kind===e.kind));r||(r=n.find((e=>"other"===e.kind)));return r}(e,"watermark"),n=T.find((e=>"svg"===e.codecs));if(t&&n)return S(t,n,null,!0);return null},t.getXmediaBaseUrl=void 0,t.loadVideo=function(e,t,r,o){const a=t.offsetWidth,i=x(a),c=R(f(f({},e),{type:"image"}),a);if(e.type!==v)r(c,k(e,i));else{if(!D[v])return r(c);const a=P(D[v],i),u=e.hlsUrl||S(e,a,null,!0);if(function(){const e=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!r}())n.e(67631).then(n.t.bind(n,67631,23)).then((n=>{let{default:a}=n;const l=new a({autoStartLoad:!0,capLevelToPlayerSize:!0});l.on(a.Events.MANIFEST_PARSED,(function(e,t){let n=0;for(let e=0;e<t.levels.length&&(n=e,!(t.levels[e].width>i));e++);l.autoLevelCapping=n,r(c,null,l)})),l.once(a.Events.ERROR,(()=>{e.hlsUrl||(l.destroy(),r(c,k(e,i)))})),l.on(a.Events.SUBTITLE_TRACKS_UPDATED,(()=>{const e=j(l.subtitleTracks);if(void 0!==e&&l.subtitleTracks.map((t=>{t.default=e===t.id})),o){const e=l.subtitleTracks.reduce(((e,t)=>[...e,...t.forced?[]:[{id:t.id,langCode:t.lang,langName:t.name,active:t.default}]]),[]);o(e,(e=>{l.subtitleTrack=e}))}})),l.loadSource(u),l.attachMedia(t)}));else if("probably"===(l="hls",s=document.createElement("video"),d={ogg:'video/ogg; codecs="theora"',h264:'video/mp4; codecs="avc1.42E01E"',webm:'video/webm; codecs="vp8, vorbis"',vp9:'video/webm; codecs="vp9"',hls:'application/x-mpegURL; codecs="avc1.42E01E"'},s.canPlayType(d[l]||l))){const e=e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(((e,t)=>({id:t,langCode:e.language,langName:e.label,active:"showing"===e.mode,track:e})))}([...e.target]),n=j(t);if(void 0!==n&&t.forEach((e=>{e.track.mode=n===e.id?"showing":"disabled"})),o){const e=e=>{if(t.forEach((e=>{e.track.mode="disabled"})),null!==e){var n;const r=null===(n=t.find((t=>t.id===e)))||void 0===n?void 0:n.track;r&&(r.mode="showing")}};o(t,e)}};t.textTracks.onaddtrack=e,t.textTracks.onchange=e,r(c,{type:"application/x-mpegURL",url:u})}else r(c,k(e,i))}var l,s,d},t.xmediaFormats=void 0;var o=r(n(59713)),a=n(31012),i=r(n(71789)),c=d(n(86894)),l=d(n(44455));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p="image",m="video",g="vector",v="hls",h="png",y="3dadvanced",O="spin360",b={SMALL:135,MEDIUM:560,LARGE:1024,EXTRALARGE:1920};function w(e){switch(e){case p:case g:case h:case y:case O:return i.default.imageBaseUrl;case m:case v:return i.default.videoBaseUrl}}t.XMEDIA_FORMAT_TYPES={IMAGE_FORMAT:p,VIDEO_FORMAT:m,VECTOR_FORMAT:g,PNG_FORMAT:h,HLS_FORMAT:v,ADVANCED_3D_FORMAT:y,SPIN_360:O};const E="small",_="large";t.getDeviceAllowedScreen=e=>e?E:_;t.getXmediaBaseUrl=e=>w(e);const A={[g]:["pdf"]};const T=t.xmediaFormats=i.default.xmediaFormats.sort(((e,t)=>e.width>t.width?1:-1)),D=T.reduce(((e,t)=>{var n;return e[t.type]=e[t.type]||{formats:[],cache:{}},(A[(n=t).type]||[]).includes(n.extension)||e[t.type].formats.push(t),e}),{}),M=()=>{const{qualityFactor:e,thresHigh:t,thresLow:n}=c.loadConfig(),r=l.retrieve();let o=1;if(!r)return o;const a=r.speedKbps;if(a<=n)o=e;else if(a>n&&a<=t){o=e+(1-e)*((a-n)/(t-n))}return o};function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.url)return e.url;const o="."+t.extension,a=n||t.width;let i;return e&&e.name?(i=~e.name.indexOf(".")?e.name.replace(/\d.$/,o):e.name.concat(o),r?"".concat(w(t.type),"/").concat(e.path,"/").concat(i,"?ts=").concat(e.timestamp):"".concat(w(t.type),"/").concat(e.path,"/w/").concat(a,"/").concat(i,"?ts=").concat(e.timestamp)):""}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.formats,o=e.cache[t],c="ceil"!==n.strategy&&a.canUseDOM&&zara&&zara.expApi&&~zara.expApi.activatedExperiments.indexOf("request-smaller-product-image");let l,s,d;if(o)return o;if(!c&&i.default.store.useXmediaRealWidth&&r.length)return e.cache[t]=f(f({},r[0]),{},{width:t}),e.cache[t];for(s=0,d=r.length;s<d;s++)if(l=r[s],l.width>=t)return e.cache[t]=r[c&&s?s-1:s],e.cache[t];return e.cache[t]=r[r.length-1],r[r.length-1]}function x(e,t){const n=M(),r=t&&t.forcedDevicePixelRatio||(a.canUseDOM?Math.min(devicePixelRatio||1,2):1);return Math.ceil(e*r*n)}function R(e,t,n){const r=e.type||p;let o;if(!e)return"";"string"==typeof t&&(t=b[t]||560),o=x(t,n);const a=P(D[r],o,n),i=a.type===g;return S(e,a,a.width,i)}function k(e,t){const n=P(D[m],t);return{url:S(e,n),type:"video/".concat(n.extension)}}const j=function(){var e;return null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((e=>e.lang===i.default.langCode||e.langCode===i.default.langCode)))||void 0===e?void 0:e.id}}}]);